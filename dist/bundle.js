!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e){e.exports=JSON.parse('{"name":"easier-axios","version":"0.0.10","description":"Easier to use axios with configs separated to modules","main":"dist/index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","build":"webpack --mode production --progress --display-modules --colors --display-reasons"},"repository":{"type":"git","url":"git+https://github.com/sumerliu/esaier-axios.git"},"keywords":["axios","modules","easy","manager","request"],"author":"Sumer.Liu","license":"MIT","bugs":{"url":"https://github.com/sumerliu/esaier-axios/issues"},"homepage":"https://github.com/sumerliu/esaier-axios#readme","devDependencies":{"@types/jest":"^25.1.4","@types/node":"^13.9.0","axios":"^0.19.2","clean-webpack-plugin":"^3.0.0","jest":"^25.1.0","prettier":"^1.19.1","ts-jest":"^25.2.1","ts-loader":"^6.2.1","typescript":"^3.8.3","webpack":"^4.42.0","webpack-cli":"^3.3.11"}}')},function(e,t,r){"use strict";r.r(t),r.d(t,"CONSTANT",(function(){return a}));var o={method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}},n=function(){return(n=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r},s=function(){function e(e,t,o){var s=this;void 0===o&&(o={dynamicRouterPattern:":pattern"}),this.version=r(0).version,this.createdBy="sumerliu@github.com",this.moduleApiInfo=[],this.globalApiInfo={},this.globalConfig={},this.request=function(e){var t=e.url,r=e.data,o=e.dynamicRouterParams,a=e.module,u=Boolean(a)||t.includes("->"),l=a||t.split("->")[0].trim(),c=t.includes("->")&&t.split("->")[1].trim()||t,p=u?s.moduleApiInfo.find((function(e){return e.name==l})).module:s.globalApiInfo;if(!Boolean(p[c]))throw new Error("could not find the request url, please check whether you register module");var f=p[c],d=f.url,h=i(f,["url"]),m=h.headers,b=i(h,["headers"]),g=n(n({},s.globalConfig),b);return g.headers=n(n({},g.headers),m),s._base(d,r,o,g)},this.fetch=e,this._preConfigs=o,this._init(t)}return e.prototype._init=function(e){void 0===e&&(e={}),this.globalConfig=n(n({},o),e)},e.prototype._base=function(e,t,r,o){var i=this,s=Boolean(o.dynamicRouter),a=o.method.toUpperCase(),u={},l=e;if(s){if("[object Object]"!=Object.prototype.toString.call(r))throw new Error("when you use dynamicRouter params request, data must be object");Object.entries(r).forEach((function(e){var t=i._preConfigs.dynamicRouterPattern.replace(new RegExp("pattern","g"),e[0]),r=new RegExp("("+t+")","g");l=l.replace(r,e[1])}))}if(Boolean(t)){u=["PUT","POST","PATCH"].includes(a)?{data:t}:{params:t}}return this.fetch(n(n(n({url:l},u),o),{transformRequest:[function(e){var t;switch(o.headers["Content-Type"]){case"application/x-www-form-urlencoded":var r="";for(var n in e)r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]);t=r.substring(1);break;case"application/json":t=JSON.stringify(e);break;default:t=e}return t}]}))},e.prototype.registerGlobal=function(e){return this.globalApiInfo=e,this},e.prototype.registerModule=function(e){var t=e.name,r=e.module;if(Boolean(t)&&"string"==typeof t)return this.moduleApiInfo.push({name:t,module:r}),this;throw new Error("if you use the module, the module name is necessary")},e.prototype.setHeader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1==e.length&&"object"==typeof e)for(var r=0,o=Object.keys(e[0]);r<o.length;r++){var n=o[r];this.globalConfig.headers[n]=e[0][n]}else{if(2!=e.length)throw new Error("the maximum length of arguments is 2, if there is only one, it must be object ");this.globalConfig.headers[e[0]]=e[1]}return this},e}(),a={DEFAULT_DYNAMICROUTER_RPATTERN:":pattern",DYNAMICROUTER_PATTERN_FLAG:"pattern",MODULE_PATTERN:"->",DEFAULT_BASECONFIG:o};t.default=s}]);
//# sourceMappingURL=bundle.js.map